<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <title>{{ site.name }}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="{{ site.description }}">

    <link href="/css/bootstrap3.min.css" rel="stylesheet">
    <link href="/css/syntax.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px;
      }
    </style>

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.12/angular.min.js"></script>


    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>

  <body>
    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
          <span class="sr-only">Ouvrir le menu</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="/"><span class="glyphicon glyphicon-home"></span> </a>
      </div>
    </div>
    </nav>

    <div class="row" ng-app="jekyllApp" ng-controller="PostListCtrl">
      <script>
        angular.module('jekyllApp',[]).filter('matchesQuery', function(){
          return function(items, query){
            if (typeof query == "undefined") return [];
            var alternate = query.replace(/ /g,"_").toLowerCase();
            var lcQuery = query.toLowerCase();
            var arrayToReturn = [];
            for (var i=0; i<items.length; i++) {
              if (items[i] && (items[i].title.toLowerCase().indexOf(lcQuery) !== -1  || items[i].tags.indexOf(alternate) !== -1 || items[i].content.indexOf(alternate) !== -1)) {
                arrayToReturn.push(items[i]);
              }
            }
            return arrayToReturn;
          };
        });

        function PostListCtrl($scope, $http) {
          $scope.query = "";
          $scope.posts = [];
          $http.get('/search.json').success(function(data) {
            $scope.posts = data;
          });
        }
      </script>

      <div class="col-lg-12">
        <form role="form">
          <div class="form-group">
            <input type="text" class="form-control" ng-model="match" placeholder="Recherche d'un article ..." >
            {% raw %} <!-- hack for blog entry - extra space -->
            <div class="list-group">
              <a  class="list-group-item" ng-repeat="post in posts | matchesQuery:match" ng-href="{{post.href}}">
              {{ post.title }}
              </a>
            </div>
            {% endraw %} <!-- same hack here too -->
          </div>
        </div>
      </div>

      <div class="container-fluid">

